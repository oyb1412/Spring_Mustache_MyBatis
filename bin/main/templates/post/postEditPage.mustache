{{> other/header}}

<main class="container mx-auto px-4 pt-24 pb-12">
  <div class="flex flex-col md:flex-row gap-8">

    <!-- 왼쪽 메인 콘텐츠 영역 -->
    <div class="w-full md:w-3/4">

      <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-100">
        <input type="hidden" id="board-id" value="{{board.id}}">
        <input type="hidden" id="post-id" value="{{post.id}}">
        <input type="hidden" id="post-author" value="{{post.author}}">


        <!-- 게시판 이름 + 유저 정보 -->
        <h2 class="text-sm text-gray-400 mb-1">
          게시판: <span class="text-blue-500 font-semibold">{{board.name}}</span>
        </h2>
        <h1 class="text-2xl font-bold text-gray-800 mb-4">✏️ 글 수정</h1>

        <div class="mb-6 flex items-center justify-between text-sm text-gray-500">
          <span>작성자: <span class="font-medium text-gray-700" >{{post.author}}</span></span>
          <span class="text-xs">* 수정 시 작성자가 유지됩니다</span>
        </div>

        <!-- 제목 입력 -->
        <div class="mb-4">
          <label for="title" class="block text-sm font-medium text-gray-700 mb-1">제목</label>
          <input type="text" id="title" required
                 value="{{post.title}}"
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg text-lg font-medium focus:outline-none focus:ring-2 focus:ring-blue-300">
        </div>

        <!-- 내용 입력 -->
        <div class="mb-6">
          <label for="content" class="block text-sm font-medium text-gray-700 mb-1">내용</label>
          <textarea id="summernote" name="content">{{{post.content}}}</textarea>
        </div>

        <!-- 파일 첨부 영역 -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-1">첨부파일</label>
        
          {{#post.fileName}}
          <div class="flex items-center gap-3 mb-2 text-sm text-gray-600">
            <span class="inline-block bg-gray-100 px-2 py-1 rounded">
              현재 파일: <strong>{{post.fileName}}</strong>
            </span>
          </div>
          {{/post.fileName}}
        
          <input
            type="file"
            id="upload-input"
            class="block text-sm text-gray-700"
          />
          <p class="text-xs text-gray-400 mt-1">※ 새 파일 선택 시 기존 파일을 덮어씁니다.</p>
        </div>

        <!-- 버튼 -->
        <div class="flex justify-end gap-3 mt-6">
          <a href="/post-page/{{post.id}}"
             class="px-5 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200">
            취소
          </a>
          <button type="button" id="btn-modify"
                  class="px-5 py-2 text-sm font-medium text-white bg-green-600 rounded hover:bg-green-700">
            수정
          </button>
        </div>

      </div>
    </div>

    <!-- 오른쪽 사이드바 -->
    {{> other/sidebar}}

  </div>
</main>

{{> other/footer}}
<script src="/js/postModify.js"></script>
<script src="/js/summernote.js"></script>